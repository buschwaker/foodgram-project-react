<h1 align="center">Привет, я <a href="https://github.com/buschwaker" target="_blank">Александр</a> 
<img src="https://github.com/blackcater/blackcater/raw/main/images/Hi.gif" height="32"/></h1>
<h3 align="center">Студент Яндекса по направлению Backend Python Development и это мой диплом</h3>

# Дипломный проект "Продуктовый помощник"

Задание дипломного проекта заключалось в написании API сайта "Продуктовый помощник". На этом сервисе пользователи могут публиковать рецепты, подписываться на публикации других пользователей, добавлять понравившиеся рецепты в список «Избранное», а перед походом в магазин скачивать сводный список продуктов, необходимых для приготовления одного или нескольких выбранных блюд.

Доступен по <a href="http://51.250.106.71/">51.250.106.71</a>

Доступ к админке по <a href="http://51.250.106.71/admin/">ссылке</a>  `логин`/`пароль`: `akroshko1995@gmail.com`/`admin`

## Запуск проекта с помощью Docker-compose

- Склонируйте репозиторий:

```
git clone git@github.com:buschwaker/foodgram-project-react.git
```

- Добавьте в директорию `infra` файл `.env` с переменными окружения для работы с базой данных:

```
DB_ENGINE=django.db.backends.postgresql
DB_NAME=postgres
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
DB_HOST=db
DB_PORT=5432
```

- Запустите docker-compose командой `sudo docker-compose up -d` 
- Войдите в запущенный контейнер `docker exec -it <BACK CONTAINER ID> bash`
- Запустите миграции `python manage.py migrate`
- Загрузите dummy data `python manage.py loaddata db.json`
- Соберите статику `python manage.py collectstatic`

## Структура проекта
1. В папке `backend` лежит бэкенд продуктового помощника;
2. В папке `frontend` находятся файлы, необходимые для сборки фронтенда приложения;
3. В папке `infra` — инфраструктура проекта: конфигурационный файл `nginx` и `docker-compose.yml`.
4. В папке `docs` — файлы спецификации API;
маил/пароль от админки: `akroshko1995@gmail.com`/`admin`, соответственно.
   
## Сервисы и страницы проекта

### Главная страница

Содержимое главной страницы — список первых шести рецептов, отсортированных по дате публикации (от новых к старым). Остальные рецепты доступны на следующих страницах: внизу страницы есть пагинация.

### Страница рецепта

На странице — полное описание рецепта. Для авторизованных пользователей — возможность добавить рецепт в избранное и в список покупок, возможность подписаться на автора рецепта.

### Страница пользователя

На странице — имя пользователя, все рецепты, опубликованные пользователем и возможность подписаться на пользователя.

### Подписка на авторов

Подписка на публикации доступна только авторизованному пользователю. Страница подписок доступна только владельцу.
Сценарий поведения пользователя:
- Пользователь переходит на страницу другого пользователя или на страницу рецепта и подписывается на публикации автора кликом по кнопке «Подписаться на автора».
- Пользователь переходит на страницу «Мои подписки» и просматривает список рецептов, опубликованных теми авторами, на которых он подписался. Сортировка записей — по дате публикации (от новых к старым).
- При необходимости пользователь может отказаться от подписки на автора: переходит на страницу автора или на страницу его рецепта и нажимает «Отписаться от автора».

### Список покупок

Работа со списком покупок доступна авторизованным пользователям. Список покупок может просматривать только его владелец.
Сценарий поведения пользователя:
- Пользователь отмечает один или несколько рецептов кликом по кнопке «Добавить в покупки».
- Пользователь переходит на страницу Список покупок, там доступны все добавленные в список рецепты. Пользователь нажимает кнопку Скачать список и получает файл с суммированным перечнем и количеством необходимых ингредиентов для всех рецептов, сохранённых в «Списке покупок».
- При необходимости пользователь может удалить рецепт из списка покупок.
Список покупок скачивается в формате .txt.
  
## Уровни доступа пользователей

В проекте доступна система регистрации и авторизации пользователей. 

Пользователь имеет один из нижеперечисленных уровней доступа:
- Гость (неавторизованный пользователь)
- Авторизованный пользователь
- Администратор

### Что могут делать неавторизованные пользователи
- Создать аккаунт.
- Просматривать рецепты на главной.
- Просматривать отдельные страницы рецептов.
- Просматривать страницы пользователей.
- Фильтровать рецепты по тегам.

### Что могут делать авторизованные пользователи
- Входить в систему под своим логином и паролем.
- Выходить из системы (разлогиниваться).
- Менять свой пароль.
- Создавать/редактировать/удалять собственные рецепты
- Просматривать рецепты на главной.
- Просматривать страницы пользователей.
- Просматривать отдельные страницы рецептов.
- Фильтровать рецепты по тегам.
- Работать с персональным списком избранного: добавлять в него рецепты или удалять их, просматривать свою страницу избранных рецептов.
- Работать с персональным списком покупок: добавлять/удалять любые рецепты, выгружать файл с количеством необходимых ингридиентов для рецептов из списка покупок.
- Подписываться на публикации авторов рецептов и отменять подписку, просматривать свою страницу подписок.

### Что может делать администратор

- Администратор обладает всеми правами авторизованного пользователя.
- Плюс к этому он может:
- изменять пароль любого пользователя,
- создавать/блокировать/удалять аккаунты пользователей,
- редактировать/удалять любые рецепты,
- добавлять/удалять/редактировать ингредиенты.
- добавлять/удалять/редактировать теги.
   

